/* imasan_style.css */
body {
  cursor: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  background: #a0d8ef; 
  font-family: sans-serif;
  margin: 0;
  overflow: hidden;
}
#magic-stick, #magic-tip {
  position: absolute;
  pointer-events: none; 
}
#magic-stick {
  width: 140px;
  height: 12px; 
  background: linear-gradient(90deg, #c39bff 0%, #ffb3ec 50%, #ff7ada 100% );
  border-radius: 999px;
  pointer-events: none;
  transform-origin: right center; 
  transform: rotate(-30deg); 
  box-shadow: 0 0 6px rgba(255, 140, 255, 0.6), inset 0 0 3px rgba(255, 255, 255, 0.8);
  left: -120px; 
  top: 12px;
}
#magic-tip {
  position: absolute;
  width: 36px;
  height: 36px;
  background: transparent;
  pointer-events: none;
  clip-path: polygon(
    50% 0%, 
    61% 35%, 
    98% 35%, 
    68% 57%, 
    79% 91%, 
    50% 70%, 
    21% 91%, 
    32% 57%, 
    2% 35%, 
    39% 35%
  );
  background: radial-gradient(circle, #fff7ff 0%, #ffe3ff 40%, #ff9bff 70%, #ff47d8 100% );
  box-shadow: 0 0 12px #ff9bff, 0 0 22px #ff47d8, 0 0 45px #ff47d8;
  animation: tip-rainbow 1.8s linear infinite;
  pointer-events: none;
  z-index: 999;
  transform: translate(-50%, -50%);
}
@keyframes stick-flow {
  0% { background-position: 0% 50%; }
  100% { background-position: 300% 50%; }
}
#feedback-overlay {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 4em;
    color: #ff007f;
    text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
    z-index: 101;
    opacity: 0;
    transition: opacity 0.2s ease-in-out;
}
.hidden {
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none; 
}
.show-feedback {
    opacity: 1 !important;
}
.hidden-particle {
  opacity: 0 !important;
  transform: scale(0) !important;
  pointer-events: none !important;
  transition: opacity 0.2s linear;
}
.magic-particle2 {
  position: absolute;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  pointer-events: none;
  background: radial-gradient(circle, white, gold, orange);
  opacity: 0.9;
  filter: blur(2px);
  animation: sparkle 1s infinite;
  z-index: 1000;
}
@keyframes sparkle {
  0% { transform: scale(1) translate(0,0); opacity: 1; filter: blur(2px); }
  50% { transform: scale(1.5) translate(var(--dx,0), var(--dy,0)); opacity: 0.6; filter: blur(4px); }
  100% { transform: scale(1) translate(0,0); opacity: 1; filter: blur(2px); }
}
@keyframes tip-rainbow {
  0% { filter: hue-rotate(0deg) brightness(1.1); transform: scale(1); }
  50% { filter: hue-rotate(180deg) brightness(1.4); transform: scale(1.05); }
  100% { filter: hue-rotate(360deg) brightness(1.1); transform: scale(1.15); }
}
#magic-particles .particle {
  position: absolute;
  width: 6px;
  height: 6px;
  background: radial-gradient(circle,#fff7ff,#ff47d8);
  clip-path: polygon(
    50% 0%, 
    61% 35%, 
    98% 35%, 
    68% 57%, 
    79% 91%, 
    50% 70%, 
    21% 91%, 
    32% 57%, 
    2% 35%, 
    39% 35%
  );
  pointer-events:none;
  animation: moveParticle 1s linear forwards;
}
@keyframes moveParticle {
  to {
    transform: translate(var(--dx), var(--dy)) scale(0);
    opacity:0;
  }
}
#svg-container {
  margin-bottom: 20px;
}
.iris {
  transform-box: fill-box;
  transform-origin: center;
  /* レインボー色変化用 */
  transition: fill 0.3s linear;
  animation-duration: 2s; 
  animation-iteration-count: infinite;
  animation-direction: alternate;
  transform: translateX(0);
}
@keyframes look {
  0% { transform: translateX(0px); }
  50% { transform: translateX(5px); }
  100% { transform: translateX(-5px); }
}
@keyframes rainbow-cycle {
  0% { background-color: red; }
  16% { background-color: orange; }
  33% { background-color: yellow; }
  50% { background-color: green; }
  66% { background-color: blue; }
  83% { background-color: indigo; }
  100% { background-color: violet; }
}
@keyframes shine {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}
@keyframes flow-gradient {
  0% { transform: translate(-50%, 0); }
  100% { transform: translate(50%, 0); }
}
.flow-rainbow {
  animation: flow-gradient 8s linear infinite alternate; 
  transform-box: fill-box;
  transform-origin: center;
}
.rainbow-box {
  width: 300px;
  height: 150px;
  border-radius: 15px;
  background: linear-gradient(
    90deg, 
    #ff0000,
    #ff7f00,
    #ffff00,
    #00ff00,
    #0000ff,
    #4b0082,
    #9400d3,
    #ff0000 
  );
  background-size: 200% 100%;
  animation: shine 8s linear infinite;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
}
.flow-rainbow {
  animation: flow-gradient 8s linear infinite alternate;
  transform-box: fill-box;
  transform-origin: center;
}
#nose {
  transition: filter 0.2s linear;
}
#nose:hover {
  cursor: crosshair;
}
.rainbow-flow {
  animation: rainbow 2s linear infinite;
}
@keyframes rainbow {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}
@keyframes flow-gradient {
  0% { transform: translate(-50%, 0); }
  100% { transform: translate(50%, 0); }
}
.svg-title {
  font-size: 24px;
  color: #0a74da;
  margin-bottom: 10px;
}
h1 { margin:0; font-size:24px; color:#0a74da; }
p { font-size:16px; color:#333; text-align:center; max-width:300px; }
